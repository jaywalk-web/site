<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jaywalk Blog - CMS Interface</title>
    <style>
        :root {
            --primary-red: #cd3b26;
            --dark-red: #a82c1a;
            --light-red: #fdf2f0;
            --background: #fcf5f5;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --border: #e5e7eb;
            --card-bg: #ffffff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--background);
            padding: 2rem;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--primary-red);
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-dark);
        }
        
        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(205, 59, 38, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .btn {
            background: var(--primary-red);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 1rem;
        }
        
        .btn:hover {
            background: var(--dark-red);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(205, 59, 38, 0.2);
        }
        
        .output {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--light-red);
            border-radius: 8px;
            border: 1px solid var(--border);
            display: none;
        }
        
        .output h3 {
            margin-bottom: 1rem;
            color: var(--primary-red);
        }
        
        .code-block {
            background: white;
            padding: 1rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            border: 1px solid var(--border);
        }
        
        .instructions {
            background: #e8f5e8;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 2rem;
            border: 1px solid #c8e6c9;
        }
        
        .instructions h3 {
            color: #43a047;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Jaywalk Blog CMS</h1>
        
        <form id="cmsForm">
            <div class="form-group">
                <label for="title">Article Title *</label>
                <input type="text" id="title" name="title" required placeholder="e.g., The Future of Urban Mobility">
            </div>
            
            <div class="form-group">
                <label for="excerpt">Excerpt *</label>
                <textarea id="excerpt" name="excerpt" required placeholder="Brief description of the article..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="date">Publication Date *</label>
                    <input type="date" id="date" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="pillar">Content Pillar *</label>
                    <select id="pillar" name="pillar" required>
                        <option value="">Select a pillar</option>
                        <option value="action">Action</option>
                        <option value="community">Community</option>
                        <option value="education">Education</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="readTime">Read Time</label>
                    <input type="text" id="readTime" name="readTime" placeholder="e.g., 5 min read">
                </div>
                
                <div class="form-group">
                    <label for="slug">URL Slug *</label>
                    <input type="text" id="slug" name="slug" required placeholder="e.g., future-of-urban-mobility" pattern="[a-z0-9\-]+" title="Lowercase letters, numbers, and hyphens only">
                </div>
            </div>
            
            <div class="form-group">
                <label for="imageUrl">Image URL</label>
                <input type="text" id="imageUrl" name="imageUrl" placeholder="e.g., images/posts/urban-mobility.jpg">
            </div>
            
            <div class="form-group">
                <label for="content">Article Content (HTML) *</label>
                <textarea id="content" name="content" required rows="15" placeholder="Write your article content in HTML here..."></textarea>
                <small>Use HTML tags like &lt;p&gt;, &lt;h2&gt;, &lt;ul&gt;, &lt;li&gt;, etc.</small>
            </div>
            
            <button type="submit" class="btn">Generate Article Files</button>
        </form>
        
        <div class="output" id="output">
            <h3>üìÑ Generated Files</h3>
            
            <div class="instructions">
                <h3>üìù Instructions</h3>
                <p><strong>Step 1:</strong> Copy the JavaScript code below and add it to the end of <code>js/blog-data.js</code> array</p>
                <p><strong>Step 2:</strong> Create a new file in <code>articles/</code> folder with the name <span id="fileName">your-slug.html</span></p>
                <p><strong>Step 3:</strong> Paste the HTML content into the new file</p>
                <p><strong>Step 4:</strong> Commit and push to GitHub</p>
            </div>
            
            <h4>1. JavaScript Code for blog-data.js:</h4>
            <div class="code-block" id="jsOutput"></div>
            
            <h4>2. HTML Article File:</h4>
            <div class="code-block" id="htmlOutput"></div>
        </div>
    </div>

    <script>
        document.getElementById('cmsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const title = document.getElementById('title').value;
            const excerpt = document.getElementById('excerpt').value;
            const date = new Date(document.getElementById('date').value);
            const pillar = document.getElementById('pillar').value;
            const readTime = document.getElementById('readTime').value || '5 min read';
            const slug = document.getElementById('slug').value;
            const imageUrl = document.getElementById('imageUrl').value || 'images/posts/default.jpg';
            const content = document.getElementById('content').value;
            
            // Format date as "Month DD, YYYY"
            const formattedDate = date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Generate JavaScript object for blog-data.js
            const jsCode = `{
    id: "${slug}",
    title: "${title.replace(/"/g, '\\"')}",
    excerpt: "${excerpt.replace(/"/g, '\\"')}",
    date: "${formattedDate}",
    pillar: "${pillar}",
    readTime: "${readTime}",
    author: "Jaywalk Team",
    authorImage: "images/authors/jaywalk-team.jpg",
    contentFile: "articles/${slug}.html",
    image: "${imageUrl}"
},`;
            
            // Generate HTML article file
            const htmlContent = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} - Jaywalk Blog</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/blog-article.css">
    <link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
    <header>
        <nav class="nav-container">
            <a href="https://jaywalkapp.org" class="logo">Jaywalk</a>
            
            <div class="nav-links" id="navLinks">
                <a href="https://jaywalkapp.org">Home</a>
                <div class="dropdown" id="aboutDropdown">
                    <div class="dropdown-toggle">About Us <span class="dropdown-arrow">‚ñº</span></div>
                    <div class="dropdown-menu">
                        <a href="https://jaywalkapp.org/safety">App Safety & Security</a>
                        <a href="https://jaywalkapp.org/activism">Approach to Activism & Causes</a>
                    </div>
                </div>
                <a href="https://jaywalkapp.org/organize">Organize</a>
                <a href="https://jaywalkapp.org/disclaimer">Disclaimer</a>
                <a href="../index.html">Blog</a>
                <a href="https://jaywalk.org/login">Login</a>
                <a href="https://jaywalk.org/signup">Sign Up</a>
            </div>
            
            <button class="burger" id="burgerMenu">
                <span class="burger-line"></span>
                <span class="burger-line"></span>
                <span class="burger-line"></span>
            </button>
        </nav>
    </header>

    <main class="article-container">
        <article class="article-content">
            <header class="article-header">
                <a href="../index.html" class="blog-homepage-btn">‚Üê Back to Blog Homepage</a>
                <div class="article-meta">
                    <span>${formattedDate}</span>
                    <span class="post-pillar pillar-${pillar}">${pillar}</span>
                    <span>${readTime}</span>
                </div>
                <h1 class="article-title">${title}</h1>
            </header>
            
            ${imageUrl ? `<img src="../${imageUrl}" alt="${title}" class="article-image">` : ''}
            
            <div class="article-body">
                ${content}
            </div>
            
            <div class="article-navigation" id="articleNav">
                <!-- Will be populated by JavaScript -->
            </div>
            
            <div class="author-section">
                <img src="../images/authors/jaywalk-team.jpg" alt="Jaywalk Team" class="author-avatar">
                <div class="author-info">
                    <h3>Jaywalk Team</h3>
                    <p class="author-bio">Dedicated to creating safer urban environments through technology and community engagement.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Twitter">
                            <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link" aria-label="LinkedIn">
                            <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link" aria-label="Website">
                            <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </article>
        
        <aside class="sidebar">
            <div class="recommended-section">
                <h2 class="section-title">Recommended Articles</h2>
                <div class="recommended-articles" id="recommendedArticles">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </aside>
    </main>

    <button class="back-to-top" id="backToTop">‚ñ≤</button>

    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="https://jaywalkapp.org">Home</a>
                <a href="https://jaywalkapp.org/about">About Us</a>
                <a href="https://jaywalkapp.org/organize">Organize</a>
                <a href="https://jaywalkapp.org/disclaimer">Disclaimer</a>
                <a href="../index.html">Blog</a>
                <a href="https://jaywalkapp.org/privacy">Privacy</a>
                <a href="https://jaywalkapp.org/terms">Terms</a>
                <a href="https://jaywalkapp.org/contact">Contact</a>
            </div>
            <p>&copy; 2024 Jaywalk App. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/blog-data.js"></script>
    <script src="../js/blog-article.js"></script>
    <script src="../js/common.js"></script>
</body>
</html>`;
            
            // Display output
            document.getElementById('fileName').textContent = `${slug}.html`;
            document.getElementById('jsOutput').textContent = jsCode;
            document.getElementById('htmlOutput').textContent = htmlContent;
            document.getElementById('output').style.display = 'block';
            
            // Scroll to output
            document.getElementById('output').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Auto-generate slug from title
        document.getElementById('title').addEventListener('input', function() {
            const slugField = document.getElementById('slug');
            if (!slugField.value) {
                const slug = this.value
                    .toLowerCase()
                    .replace(/[^a-z0-9\s-]/g, '')
                    .replace(/\s+/g, '-')
                    .replace(/-+/g, '-')
                    .trim();
                slugField.value = slug;
            }
        });
        
        // Set default date to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date').value = today;
    </script>
</body>
</html>